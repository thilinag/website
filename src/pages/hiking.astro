---
export const prerender = true;

import Layout from "../layouts/Layout.astro";

import { getCollection } from "astro:content";
import Post from "../components/Post.astro";
import Trail from "../components/Trail.astro";
import { HEYSEN_GEOJSON, ADELAIDE100_GEOJSON } from "../utils";
const allHiking = await getCollection("hiking").then((collection) =>
  collection.sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
);

const title = "Hiking";
---

<Layout title={title}>
  <h1>{title}</h1>
  <h4>Currenly Hiking</h4>
  <div class='current-hikes'>
    <Trail
      completed={6}
      total={65}
      name='Heysen Trail'
      geoJson={HEYSEN_GEOJSON}
      url='/tags/heysentrail'
    />
    <Trail
      completed={1}
      total={4}
      name='Adelaide 100'
      geoJson={ADELAIDE100_GEOJSON}
      url='/tags/adelaide100'
    />
  </div>
  <h4>Recent Hikes</h4>
  <ul class='hiking'>
    {allHiking.map((post) => <Post post={post} />)}
  </ul>
</Layout>
<style>
  .hiking {
    padding: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
  }

  .current-hikes {
    display: grid;
    gap: 2rem;
  }

  @media (min-width: 768px) {
    .current-hikes {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
