---
import geojson2svg from "geojson-to-svg";

export interface Props {
  geoJson: object;
}

const { geoJson } = Astro.props;
const svgData = geojson2svg(
  geoJson,
  (a) => {
    return {
      weight: 0.002,
      color: a.properties.color || "#666",
    };
  },
  null,
  function (coord: number[]) {
    // flip vertically
    return [coord[0], -coord[1]];
  }
);
---

<div class='map' set:html={svgData.render()} />
<style>
  .map {
    width: 100%;
    height: 100%;
  }

  .map :global(svg) {
    display: block;
    height: 100%;
    width: 100%;
    object-fit: contain;
  }

  .map :global(path) {
    vector-effect: non-scaling-stroke;
    stroke-width: 3px;
  }
</style>
